/* Tree board layout styles (dark theme friendly) */

.tree-board-layer{ position:absolute; inset:0; overflow:auto; z-index:2; padding:12px 12px 24px 12px; }

.tree-chain{ margin:14px 8px; }

.tree-chain-hdr{ background: var(--panel); border: 1px solid var(--border); border-radius: 0; padding: 10px 12px; position:relative; z-index:1; }
.tree-chain-hdr.sel{ z-index:2; }
.tree-chain-hdr:hover{ background: #2a2a2a }
.tree-chain-hdr.sel{ outline: 2px solid var(--blue); outline-offset: 2px; border-radius: 0; }
.tree-chain-title{
  font-weight: 700;
  font-size: 18px;
  margin-bottom: 6px;
}
.metric-line{ display:flex; flex-wrap:wrap; gap:24px; font-size:12px; align-items:center; }
.metric-line .kv{ white-space:nowrap; }
.metric-line .k{ text-decoration: underline; color: var(--muted); margin-right:4px; }
.metric-line .v{ color: var(--text); }
.metric-line .spacer{ flex:1 1 auto; }
.metric-line .eff{ color: var(--muted); }

.tree-list{ list-style:none; margin:6px 0 0 0; padding:0 0 0 24px; position:relative; background: transparent; border:0; }
/* single vertical trunk from LS border; we will mask the tail under last row */
.tree-list::before{ content:''; position:absolute; left:12px; top:-1px; bottom:0; width:1px; background: var(--branch); }

/* Sleeker connection between header and list */
.tree-chain .tree-list{ margin-top:0; padding-top:0; }
.tree-chain .tree-list::before{ top:-1px; opacity:1; }

/* Hide branches for stash groups without a Light Source header */
.tree-list.no-branches::before{ display:none; }
.tree-list.no-branches > .tree-item::before{ display:none; }

.tree-item{ position:relative; background: var(--bg); border: 1px solid var(--border); padding: 6px 10px 6px 14px; margin: 4px 0; z-index:1; }
/* horizontal connector ending exactly at the trunk (1px) */
.tree-item::before{ content:''; position:absolute; left:-12px; top:calc(50% - 0.5px); width:12px; height:1px; background: var(--branch); }
.tree-item-title{ font-weight: 700; margin-bottom:6px; opacity: 1; }

.tree-item.sel{ outline: 2px solid var(--blue); outline-offset: -2px; border-radius: 0; box-shadow: inset 0 0 0 2px rgba(0,122,204,0.18); }
.tree-item:hover{ background:#777777fd }
.tree-item:focus{ outline:2px solid var(--blue); outline-offset: -2px }

/* Flat neumorphism row boxes */
.tree-list > .tree-item{ background: var(--bg); border:1px solid var(--border); margin:2px 0; padding:6px 10px; border-radius:0 !important;z-index:1; }
.tree-list > .tree-item + .tree-item{ border-top:1px solid var(--border); }

/* Cap the vertical branch at the center of the last item (mask tail) */
.tree-list > .tree-item:last-child::after{ content:''; position:absolute; left:-13px; top:calc(50% + 1px); bottom:-2px; width:4px; background: var(--bg); }
#stash-list .tree-list > .tree-item:last-child::after{ background: var(--stash-bg); }


/* Neon accented titles */
.accent-title.ls{ color: var(--neon-cyan); text-shadow: 0 0 4px rgba(0,231,255,.35); }
.accent-title.comp{ color: var(--neon-cyan-dark); text-shadow: 0 0 4px rgba(0,176,255,.25); }

/* Drag & drop indicator */
.tree-drop{ position: relative; height: 0; margin: 0; padding: 0; }
.tree-drop::before{
  content: '';
  position: absolute;
  left: -12px; right: 0; top: -1px;
  border-top: 2px solid var(--blue);
}

/* Stash tweaks: compact text and rows */
#stash-list .tree-item{ padding: 6px 8px 6px 12px; }
#stash-list .tree-item-title{ font-size: 12px; margin-bottom: 1px; }
#stash-list .tree-chain-hdr .tree-chain-title{ font-size: 13px; }
