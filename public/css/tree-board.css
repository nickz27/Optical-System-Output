/* Tree board layout styles (dark theme friendly) */

.tree-board-layer{
  position:absolute; inset:0; overflow:auto; z-index:2;
  padding:12px 12px 24px 12px;
}

.tree-chain{ margin:14px 8px; }

.tree-chain-hdr{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 12px;
}
.tree-chain-hdr.sel{ outline: 2px solid var(--blue); outline-offset: 2px; }
.tree-chain-title{
  font-weight: 700;
  font-size: 18px;
  margin-bottom: 6px;
}
.metric-line{ display:flex; flex-wrap:wrap; gap:24px; font-size:12px; align-items:center; }
.metric-line .kv{ white-space:nowrap; }
.metric-line .k{ text-decoration: underline; color: var(--muted); margin-right:4px; }
.metric-line .v{ color: var(--text); }
.metric-line .spacer{ flex:1 1 auto; }
.metric-line .eff{ color: var(--muted); }

.tree-list{ list-style:none; margin:8px 0 0 0; padding:6px 0 6px 26px; position:relative;
  background: var(--panel-2); border:1px solid var(--border); border-radius:8px; }
.tree-list::before{ content:''; position:absolute; left:6px; top:0; bottom:0; border-left:2px solid var(--border); }

/* Sleeker connection between header and list */
.tree-chain .tree-list{ margin-top:-6px; padding-top:10px; }
.tree-chain .tree-list::before{ top:8px; opacity:.7; }
.tree-item::before{ opacity:.7; }

/* Hide branches for stash groups without a Light Source header */
.tree-list.no-branches::before{ display:none; }
.tree-list.no-branches > .tree-item::before{ display:none; }

.tree-item{
  position:relative;
  background: transparent;
  border: 0;
  border-top: 1px solid var(--border);
  padding: 12px 12px 12px 18px;
  margin: 0;
}
.tree-item:first-child{ border-top: 0; }
.tree-item::before{ content:''; position:absolute; left:-12px; top:18px; width:18px; border-top:2px solid var(--border); }
.tree-item-title{ font-weight: 700; margin-bottom:6px; opacity: .95; }

.tree-item.sel{ outline: 2px solid var(--blue); outline-offset: -2px; box-shadow: inset 0 0 0 2px rgba(78,164,255,0.2); }

/* Drag & drop indicator */
.tree-drop{ position: relative; height: 0; margin: 0; padding: 0; }
.tree-drop::before{
  content: '';
  position: absolute;
  left: -12px; right: 0; top: -1px;
  border-top: 2px solid var(--blue);
}

/* Stash tweaks: compact text and rows */
#stash-list .tree-item{ padding: 6px 8px 6px 12px; }
#stash-list .tree-item-title{ font-size: 12px; margin-bottom: 1px; }
#stash-list .tree-chain-hdr .tree-chain-title{ font-size: 13px; }
